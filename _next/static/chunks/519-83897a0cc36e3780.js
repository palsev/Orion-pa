"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{69955:function(t,r,n){n.d(r,{Qo:function(){return u},TT:function(){return a},_X:function(){return s},_i:function(){return c}});var e=n(28795),i=n(6487),o=n(74719),u=((0,o.Z)((function(t){return{root:{borderRadius:t.spacing(1),background:t.palette.background.lightStone,padding:t.spacing(.75)},indicator:{height:"100%",borderRadius:t.spacing(.7),background:t.palette.primary.main,opacity:".1"}}}))(e.Z),(0,o.Z)((function(t){return{root:{textTransform:"initial",minWidth:t.spacing(10),minHeight:"auto","&$selected":{color:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium}},selected:{color:t.palette.primary.main}}}))(i.Z),(0,o.Z)((function(t){return{root:{borderRadius:t.spacing(1),border:"2px solid",borderColor:t.palette.background.lightStone,padding:t.spacing(.75)},indicator:{height:"100%",borderRadius:t.spacing(1),background:t.palette.primary.main}}}))(e.Z)),a=(0,o.Z)((function(t){return{root:{textTransform:"initial",minWidth:t.spacing(10),minHeight:"auto",width:"50%",fontWeight:700,fontSize:"16px",opacity:1,color:t.palette.primary.contrastText},selected:{color:t.palette.background.default,zIndex:10}}}))(i.Z),c=(0,o.Z)((function(t){return{root:{background:"transparent",padding:t.spacing(0),borderRadius:t.spacing(2,2,0,0)},indicator:{height:"0px",width:"100%",padding:t.spacing(0),background:"transparent"}}}))(e.Z),s=(0,o.Z)((function(t){return{root:{textTransform:"initial",color:t.palette.text.secondary,backgroundColor:t.palette.background.lightStone,"&$selected":{color:t.palette.text.primary,fontWeight:t.typography.fontWeightMedium,backgroundColor:"transparent"}},selected:{color:t.palette.primary.main}}}))(i.Z)},78966:function(t,r,n){n.d(r,{md:function(){return x},ls:function(){return S},Yu:function(){return b},d8:function(){return v},U5:function(){return O},XJ:function(){return W},FN:function(){return T}});var e,i=n(95235),o=n(20406),u=n(28526),a=n.n(u),c=n(6391),s=n.n(c),p=n(82066),l=n(709),d=n(68619),f=n(13416);n(64829);function m(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function h(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?m(Object(n),!0).forEach((function(r){(0,i.Z)(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}!function(t){t.BURN="BURN",t.CLOSE_SHORT="CLOSE_SHORT",t.DEPOSIT_COLLAT="DEPOSIT_COLLAT",t.LIQUIDATE="LIQUIDATE",t.MINT="MINT",t.OPEN_SHORT="OPEN_SHORT",t.WITHDRAW_COLLAT="WITHDRAW_COLLAT"}(e||(e={}));var g=new p.QueryClient({defaultOptions:{queries:{staleTime:1/0}}});function b(t,r,n){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(a().mark((function t(r,n,i){var o,u,c,p,f;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(r||[]);case 2:return o=t.sent,u=o.reduce((function(t,r){var n=r.ethPrice;return null!==n&&void 0!==n&&n.isZero()&&(t.priceError=!0),r.action===e.DEPOSIT_COLLAT?t.deposits=t.deposits.plus(new(s())((0,d.nw)(r.ethCollateralAmount,18)).times(n)):r.action===e.WITHDRAW_COLLAT&&(t.withdrawals=t.withdrawals.plus(new(s())((0,d.nw)(r.ethCollateralAmount,18)).times(n))),t}),{deposits:l.HW,withdrawals:l.HW,priceError:!1}),c=u.deposits,p=u.withdrawals,f=u.priceError,t.abrupt("return",f?l.HW:i.times(n).minus(c.minus(p)));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=function(t,r,n){for(var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=l.HW,o=[],u=r.length-1;u>=0;u--){var a=new(s())(n?r[u].amount1:r[u].amount0),c=e?a.negated():a;if(i=i.plus(c),o.push(r[u]),t.isEqualTo(i))break}return o};function v(t,r){return t.minus(r)}function O(t,r){return r.isEqualTo(0)?l.HW:t.dividedBy(r).minus(1).times(100)}function T(t,r){return t.minus(r)}function W(t,r){return r.isEqualTo(0)?l.HW:t.dividedBy(r).minus(1).times(100)}var E=function(){var t=(0,o.Z)(a().mark((function t(r){var n,e,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map((function(t){return 1e3*Number(t.timestamp)})),t.next=3,g.fetchQuery(n,(function(){return(0,f.Zt)(n)}),{staleTime:1/0});case 3:return e=t.sent,i=r.map((function(t){return h(h({},t),{},{ethPrice:new(s())(e[1e3*Number(t.timestamp)])})})),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),Z=function(){var t=(0,o.Z)(a().mark((function t(r){var n,e,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map((function(t){return 1e3*Number(t.timestamp)})),t.next=3,g.fetchQuery(n,(function(){return(0,f.Zt)(n)}),{staleTime:1/0});case 3:return e=t.sent,i=r.map((function(t){return h(h({},t),{},{ethPrice:new(s())(e[1e3*Number(t.timestamp)])})})),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}();function S(t,r,n,e,i,o){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(a().mark((function t(r,n,e,i,o,u){var c,p,d,f,m,h;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=y(o,r,n),t.next=3,E(c);case 3:return p=t.sent,d=p.reduce((function(t,r,e){var i=new(s())(n?r.amount0:r.amount1),o=r.ethPrice;return null!==o&&void 0!==o&&o.isZero()&&(t.priceError=!0),t.totalWethInUSD=t.totalWethInUSD.plus(i.negated().times(o)),t}),{totalWethInUSD:l.HW,priceError:!1}),f=d.totalWethInUSD,m=d.priceError,h=f.minus(e).plus(u),t.abrupt("return",{usd:h,eth:h.div(i),loading:m});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,r,n,e,i){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)(a().mark((function t(r,n,e,i,o){var u,c,p,d,f,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=y(o,r,n,!0),t.next=3,E(u);case 3:return c=t.sent,p=c.reduce((function(t,r){var e=new(s())(n?r.amount0:r.amount1),i=r.ethPrice;return null!==i&&void 0!==i&&i.isZero()&&(t.priceError=!0),t.totalUSDWethAmount=t.totalUSDWethAmount.plus(e.times(null!==i&&void 0!==i?i:l.HW)),t}),{totalUSDWethAmount:l.HW,priceError:!1}),d=p.totalUSDWethAmount,f=p.priceError,m=f?l.HW:e.minus(d),t.abrupt("return",{usd:m,eth:m.isZero()?l.HW:m.div(i),loading:f});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=519-83897a0cc36e3780.js.map